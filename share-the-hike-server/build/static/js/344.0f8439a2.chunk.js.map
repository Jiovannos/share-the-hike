{"version":3,"file":"static/js/344.0f8439a2.chunk.js","mappings":"kNACA,EAAwB,0BAAxB,EAA6D,6BAA7D,EAAuG,+BAAvG,EAAqJ,iC,6CCgFrJ,EAvE6B,WAC3B,IAAMA,GAAWC,EAAAA,EAAAA,MACXC,GAAOC,EAAAA,EAAAA,KAAY,SAACC,GAAU,OAAKA,EAAMC,WAAWC,WAAWJ,IAAI,IACzEK,GAAkCC,EAAAA,EAAAA,UAAwB,CACxDC,SAAU,GACVC,SAAU,KACVC,GAAAC,EAAAA,EAAAA,GAAAL,EAAA,GAHKM,EAASF,EAAA,GAAEG,EAAYH,EAAA,GAI9BI,GAAgCP,EAAAA,EAAAA,UAAS,IAAGQ,GAAAJ,EAAAA,EAAAA,GAAAG,EAAA,GAArCE,EAAQD,EAAA,GAAEE,EAAWF,EAAA,GAWtBG,EAAe,SAACC,GACpBN,GAAYO,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAC,CAAC,EAAIR,GAAS,IAAAS,EAAAA,EAAAA,GAAA,GAAGF,EAAEG,OAAOC,KAAOJ,EAAEG,OAAOE,QACzD,EAEMC,EAAY,eAAAC,GAAAC,EAAAA,EAAAA,IAAAC,EAAAA,EAAAA,KAAAC,MAAG,SAAAC,EAAOX,GAAkB,OAAAS,EAAAA,EAAAA,KAAAG,MAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OACzB,OAAnBf,EAAEgB,iBAAiBH,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAECE,EAAAA,EAAAA,KAAW,GAADC,OACvBC,wBAAkC,sBACrC1B,EACA,CAAE2B,iBAAiB,IACnB,KAAD,EACkB,MALVP,EAAAQ,KAKDC,SACNC,MAAM,oBACNC,OAAOC,SAASC,UACjBb,EAAAE,KAAA,gBAAAF,EAAAC,KAAA,EAAAD,EAAAc,GAAAd,EAAA,SAEDf,EAAYe,EAAAc,GAAMC,SAASC,KAAKC,SAAS,yBAAAjB,EAAAkB,OAAA,GAAApB,EAAA,kBAE5C,gBAfiBqB,GAAA,OAAAzB,EAAA0B,MAAA,KAAAC,UAAA,KAiBlB,OACEC,EAAAA,EAAAA,KAAA,OACEC,MAAO,CAAEC,QAASvD,EAAO,OAAS,QAClCwD,UAAWC,EACXC,QAlCe,WACjB5D,GAAS6D,EAAAA,EAAAA,KAAiB,GAC5B,EAgCwBC,UAEpBC,EAAAA,EAAAA,MAAA,OAAKL,UAAWC,EAAWC,QAAS,SAACxC,GAAC,OAAKA,EAAE4C,iBAAiB,EAACF,SAAA,EAC7DP,EAAAA,EAAAA,KAAA,MAAAO,SAAI,YACJC,EAAAA,EAAAA,MAAA,QAAME,SAAUvC,EAAaoC,SAAA,EAC3BP,EAAAA,EAAAA,KAAA,SACEW,KAAK,OACL1C,KAAK,WACL2C,YAAY,WACZC,SAAUjD,KAEZoC,EAAAA,EAAAA,KAAA,SACEW,KAAK,WACL1C,KAAK,WACL2C,YAAY,WACZC,SAAUjD,KAEZoC,EAAAA,EAAAA,KAAA,UAAQW,KAAK,SAAQJ,SAAC,cAEvB7C,IAAYsC,EAAAA,EAAAA,KAAA,KAAGG,UAAWC,EAAiBG,SAAE7C,KAC9CsC,EAAAA,EAAAA,KAAA,MAAIK,QAlDmB,WAC3B5D,GAAS6D,EAAAA,EAAAA,KAAiB,IAC1B7D,GAASqE,EAAAA,EAAAA,KAAkB,GAC7B,EA+CyCX,UAAWC,EAAeG,SAAC,yCAMtE,C","sources":["webpack://share-the-hike/./src/presentation/layout/modals/sign/login/LoginModal.module.css?8566","presentation/layout/modals/sign/login/LoginModal.tsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"modal\":\"LoginModal_modal__Mxu2q\",\"backdrop\":\"LoginModal_backdrop__Ln2x7\",\"changeMode\":\"LoginModal_changeMode__RGL1U\",\"errorMessage\":\"LoginModal_errorMessage__7N5hP\"};","import css from \"./LoginModal.module.css\";\r\nimport { UserLoginData } from \"./types\";\r\nimport { useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport {\r\n  toggleLoginModal,\r\n  toggleSignupModal,\r\n} from \"presentation/redux/visibilitySlice\";\r\n\r\nconst LoginModal: React.FC = () => {\r\n  const dispatch = useDispatch();\r\n  const open = useSelector((state: any) => state.visibility.loginModal.open);\r\n  const [loginData, setLoginData] = useState<UserLoginData>({\r\n    userName: \"\",\r\n    password: \"\",\r\n  });\r\n  const [errorMsg, setErrorMsg] = useState(\"\");\r\n\r\n  const closeModal = () => {\r\n    dispatch(toggleLoginModal(false));\r\n  };\r\n\r\n  const handleNoAccountClick = () => {\r\n    dispatch(toggleLoginModal(false));\r\n    dispatch(toggleSignupModal(true));\r\n  };\r\n\r\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    setLoginData({ ...loginData, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    try {\r\n      const res = await axios.post(\r\n        `${process.env.REACT_APP_API_BASE_URL}/server/auth/login`,\r\n        loginData,\r\n        { withCredentials: true }\r\n      );\r\n      if (res.status === 200) {\r\n        alert(\"Login successful\");\r\n        window.location.reload();\r\n      }\r\n    } catch (error: any) {\r\n      setErrorMsg(error.response.data.message);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div\r\n      style={{ display: open ? \"flex\" : \"none\" }}\r\n      className={css.backdrop}\r\n      onClick={closeModal}\r\n    >\r\n      <div className={css.modal} onClick={(e) => e.stopPropagation()}>\r\n        <h2>Log In</h2>\r\n        <form onSubmit={handleSubmit}>\r\n          <input\r\n            type=\"text\"\r\n            name=\"userName\"\r\n            placeholder=\"Username\"\r\n            onChange={handleChange}\r\n          />\r\n          <input\r\n            type=\"password\"\r\n            name=\"password\"\r\n            placeholder=\"Password\"\r\n            onChange={handleChange}\r\n          />\r\n          <button type=\"submit\">Log In</button>\r\n        </form>\r\n        {errorMsg && <p className={css.errorMessage}>{errorMsg}</p>}\r\n        <h5 onClick={handleNoAccountClick} className={css.changeMode}>\r\n          I don't have an account. Sign Up\r\n        </h5>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LoginModal;\r\n"],"names":["dispatch","useDispatch","open","useSelector","state","visibility","loginModal","_useState","useState","userName","password","_useState2","_slicedToArray","loginData","setLoginData","_useState3","_useState4","errorMsg","setErrorMsg","handleChange","e","_objectSpread","_defineProperty","target","name","value","handleSubmit","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_context","prev","next","preventDefault","axios","concat","process","withCredentials","sent","status","alert","window","location","reload","t0","response","data","message","stop","_x","apply","arguments","_jsx","style","display","className","css","onClick","toggleLoginModal","children","_jsxs","stopPropagation","onSubmit","type","placeholder","onChange","toggleSignupModal"],"sourceRoot":""}